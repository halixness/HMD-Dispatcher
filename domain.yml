version: '3.1'
intents:
- greet
- patient_inputs_coordinates
- patient_reports_pain
entities:
- pain_respiratory_difficulty
- pain_abdominal_pain
- patient_phonenmbr
- patient_homeaddr
slots:
  pain_abdominal_pain:
    type: any
    mappings:
    - type: from_entity
      entity: pain_abdominal_pain
  pain_respiratory_difficulty:
    type: any
    mappings:
    - type: from_entity
      entity: pain_respiratory_difficulty
  patient_homeaddr:
    type: any
    mappings:
    - type: from_entity
      entity: patient_homeaddr
  patient_phonenmbr:
    type: any
    mappings:
    - type: from_entity
      entity: patient_phonenmbr
  abdominal_pain_time:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_time
  abdominal_pain_area:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_area
  abdominal_pain_type:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_type
  abdominal_pain_worsening:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_worsening
  abdominal_pain_relief:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_relief
  abdominal_pain_duration:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_emergency_abdominal_pain
        requested_slot: abdominal_pain_duration
actions:
- utter_conclude_abdominal_pain
- validate_form_general_info
- action_ask_patient_homeaddr
- action_set_pathology
- action_submit_patient_coordinates
- utter_greet
- utter_start_medical_questions
- utter_repeat_last_time
- utter_please_rephrase
- utter_please_specify_pathology
- utter_please_provide_general_info
- utter_invalid_patient_homeaddr
responses:
  utter_start_medical_questions:
  - text: Tell me what's the issue.
  utter_repeat_last_time:
  - text: Let's retry one last time.
  utter_please_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  utter_greet:
  - text: Hello, this is the Ambulance Emergency Dispatcher. To talk with a human operator, just ask anytime.
  utter_please_specify_pathology:
  - text: Sorry, I need you to give me some details about your pathology first.
  utter_please_provide_general_info:
  - text: Ok, to possibly send help for your emergency, I need some details.
  ask_patient_homeaddr:
  - text: Can you {verb} your home address, please?
  utter_invalid_patient_homeaddr:
  - text: I'm sorry, we can't find this address on the map.
  utter_ask_patient_phonenmbr:
  - text: And what's your phone number?
  utter_ask_abdominal_pain_time:
  - text: When does the pain occur? In the morning? After eating? Always?
  utter_ask_abdominal_pain_area:
  - text: Where does the pain occur? In the entire abdomen or a specific area?
  utter_ask_abdominal_pain_type:
  - text: What type of pain are you experiencing? Dull ache? Sharp pain? Persistent or in waves?
  utter_ask_abdominal_pain_worsening:
  - text: What makes the pain worse? Coughing?
  utter_ask_abdominal_pain_relief:
  - text: What makes the pain better? Eating? Not eating?
  utter_ask_abdominal_pain_duration:
  - text: How long have you experienced this pain? Days? Months?
  utter_answ_cause_abdominal_pain:
  - text: Abdominal pain can be caused by a variety of factors, including indigestion, constipation, gastritis, ulcers, food poisoning, or more serious conditions such as appendicitis, gallstones, or inflammatory bowel disease.
  utter_answ_permanent_abdominal_pain:
  - text: The permanence of abdominal pain depends on its underlying cause. Some conditions may resolve with treatment, while others may require ongoing management. It's important to consult a healthcare professional for an accurate diagnosis and prognosis.
  utter_conclude_abdominal_pain:
  - text: Ok, I have collected all the necessary info about your abdominal pain. Paramedics are on the way. While we're waiting, do you have any questions?
forms:
  form_general_info:
    required_slots:
    - patient_homeaddr
    - patient_phonenmbr
  form_emergency_abdominal_pain:
    required_slots:
    - abdominal_pain_time
    - abdominal_pain_area
    - abdominal_pain_type
    - abdominal_pain_worsening
    - abdominal_pain_relief
    - abdominal_pain_duration
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
