version: '3.1'
intents:
- greet
- patient_inputs_coordinates
- patient_reports_pain
- patient_asks_cause
- patient_needs_ambulance
entities:
- pain_type
- patient_phonenmbr
- patient_homeaddr
slots:
  pain_type:
    type: text
    mappings:
    - type: from_entity
      entity: pain_type
  patient_homeaddr:
    type: text
    mappings:
    - type: from_entity
      entity: patient_homeaddr
  patient_phonenmbr:
    type: text
    mappings:
    - type: from_entity
      entity: patient_phonenmbr
  # =================================================
  pain_nature:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_nature
  pain_location:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_location
  pain_duration:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_duration
  pain_severity:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_severity
  pain_relieving:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_relieving
  pain_symptoms:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_symptoms
  pain_history:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_history
  pain_trauma:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_trauma
  pain_allergies:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_allergies
  pain_warnings:
    type: text
    mappings:
    - type: from_text
      conditions:
      - active_loop: form_medical_questions
        requested_slot: pain_warnings


actions:
- utter_conclude
- validate_form_general_info
- action_ask_patient_homeaddr
- action_set_pathology
- action_submit_patient_coordinates
- action_submit_emergency_form
- utter_greet
- utter_question_issue
- utter_repeat_last_time
- utter_please_rephrase
- utter_please_specify_pathology
- utter_please_provide_general_info
- utter_invalid_patient_homeaddr

responses:
  utter_will_ask_medical_questions:
  - text: Ok, I'm going to ask you some questions about your problem.
  utter_question_issue:
  - text: Tell me what's the issue.
  - text: What is your emergency?
  - text: What is the problem you are experiencing?
  utter_repeat_last_time:
  - text: Let's retry one last time.
  utter_please_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase?
  - text: Could you please rephrase that? I'm having trouble understanding.
  - text: I didn't grasp your message completely. Can you put it differently?
  - text: I'm a bit confused; can you reword your statement for clarity?
  - text: Sorry, I didn't catch that. Could you express it in another way?
  utter_greet:
  - text: Hello, this is the Ambulance Emergency Dispatcher. To talk with a human operator, just ask anytime.
  utter_please_specify_pathology:
  - text: Sorry, I need you to give me some details about your pathology first.
  utter_please_provide_general_info:
  - text: Ok, to possibly send help for your emergency, I need some details.
  - text: Ok, we will send paramedics. I need your current location and a contact number.
  ask_patient_homeaddr:
  - text: Can you {verb} your home address, please?
  utter_invalid_patient_homeaddr:
  - text: I'm sorry, we can't find this address on the map.
  utter_ask_patient_phonenmbr:
  - text: And what's your phone number?
  # =================================================
  utter_ask_pain_nature:
  - text: How would you describe the sensation of the pain?
  - text: Can you tell me more about the kind of pain you're experiencing?
  - text: In what way is the pain manifesting? (sharp, dull, etc.)
  - text: Describe the pain's nature for me.
  - text: What words would you use to characterize the pain?

  utter_ask_pain_location:
  - text: Can you point to the exact location of the pain? Does it move elsewhere?
  - text: Tell me where it hurts, and does the pain travel to other parts of your body?
  - text: Pinpoint the specific area of discomfort. Does it radiate anywhere else?
  - text: Identify the spot of pain, and does it extend to other regions?
  - text: Describe the location of the pain and any spreading sensations.

  utter_ask_pain_duration:
  - text: When did you first notice the pain, and is it continuous or intermittent?
  - text: Tell me about the onset of the pain. Is it persistent or comes and goes?
  - text: When did the pain begin, and has it been steady or sporadic? How long has it persisted?
  - text: Share details about when the pain began and whether it's constant or sporadic.
  - text: Describe the timeline of the pain. How long has it been present?

  utter_ask_pain_severity:
  - text: Using a scale from 0 to 10, how would you rate the intensity of your pain?
  - text: On a scale of 0 to 10, how severe is the pain you're experiencing?
  - text: If 0 means no pain and 10 is the most severe, where would you place your pain level?
  - text: Can you quantify the pain on a scale from 0 to 10?
  - text: Using a scale, gauge the intensity of your pain from 0 to 10.

  utter_ask_pain_relieving:
  - text: Are there certain things you do that either worsen or alleviate the pain?
  - text: Can you identify any actions or postures that affect the pain positively or negatively?
  - text: Do certain activities or positions bring relief or aggravate the pain?
  - text: Are there particular movements or positions that either help or worsen the pain?
  - text: Describe any actions or postures that impact the pain positively or negatively.

  utter_ask_pain_symptoms:
  - text: Aside from the pain, are you experiencing any other symptoms like nausea or dizziness?
  - text: Tell me if there are any additional symptoms accompanying the pain.
  - text: Do you notice any other changes in your body, like sweating or shortness of breath?
  - text: Are there other feelings or symptoms occurring along with the pain?
  - text: Describe any other sensations or symptoms you're currently having.

  utter_ask_pain_history:
  - text: Are you currently being treated for any medical conditions or taking any medications?
  - text: Tell me about any pre-existing health conditions or medications you're on.
  - text: Have you been diagnosed with any medical issues, and are you taking any regular medications?
  - text: Share information about your medical history and any prescribed medications.
  - text: Describe any known health conditions and the medications you're currently using.

  utter_ask_pain_trauma:
  - text: Did something happen recently that might be linked to the onset of the pain?
  - text: Tell me if there were any recent injuries or accidents connected to the pain.
  - text: Have you encountered any trauma or incidents that could be associated with the pain?
  - text: Describe any recent events or injuries that might be related to the pain.
  - text: Share details about any recent traumas or accidents that could be relevant to the pain.

  utter_ask_pain_allergies:
  - text: Do you have any known allergies to medications or other substances?
  - text: Are there any medications or substances that you're allergic to?
  - text: Tell me if you have any known allergies, especially to medications.
  - text: Provide information on any allergies you have, especially related to medications.
  - text: Mention if there are any substances or medications you are allergic to.

  utter_ask_pain_warnings:
  - text: Do you notice any signs of emergency, such as difficulty breathing or chest pain?
  - text: Are you observing any indications of an emergency, like trouble breathing or chest discomfort?
  - text: Have you spotted any emergency signs, like struggling to breathe or experiencing chest pain?
  - text: Do you see any emergency warning signs, such as trouble with breathing or pain in the chest?
  - text: Are there any signs of emergency, such as difficulty in breathing or chest pain, that you're noticing?
  
  utter_conclude:
  - text: Ok, I have collected all the necessary info about your {pain_type}. Paramedics are on the way. While we're waiting, do you have any questions?
  

forms:
  form_general_info:
    required_slots:
      - patient_homeaddr
      - patient_phonenmbr
  form_medical_questions:
    required_slots:
      - pain_nature
      - pain_location
      - pain_duration
      - pain_severity
      - pain_relieving
      - pain_symptoms
      - pain_history
      - pain_trauma
      - pain_allergies
      - pain_warnings

